<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Anesidora Options</title>
        <link rel="preload" href="./css/InterVariable.woff2" as="font" type="font/woff2" crossorigin>
        <!-- Crossorigin despite being local because https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/rel/preload#cors-enabled_fetches -->
        <link  href="./css/common.css" rel="stylesheet" type="text/css" />
        <link  href="./css/options.css" rel="stylesheet" type="text/css">
        <link  href="./css/cozypopup.css" rel="stylesheet" type="text/css">
        <link  href="./css/reworked_oldpopup.css" rel="stylesheet" type="text/css">
        <script src="./js/platform_specific.js" type="text/javascript"></script>
        <script src="./js/jscolor.min.js" type="text/javascript"></script>
        <script src="./js/common.js" type="text/javascript"></script>
    </head>
    <body>
		<template class="check-icon-template">
			<svg class="settingsicon feather-check-circle" viewBox="0 0 24 24">
				<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
				<polyline points="22 4 12 14.01 9 11.01"/>
			</svg>
		</template>
		<template class="alert-icon-template">
			<svg class="settingsicon feather-alert-triangle" viewBox="0 0 24 24">
				<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
				<line x1="12" y1="9" x2="12" y2="13"/>
				<line x1="12" y1="17" x2="12.01" y2="17"/>
			</svg>
		</template>
		<template class="refresh-icon-template">
			<svg class="settingsicon feather-refresh-cw" viewBox="0 0 24 24">
				<polyline points="23 4 23 10 17 10"></polyline>
				<polyline points="1 20 1 14 7 14"></polyline>
				<path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
			</svg>
		</template>
		<div class="logoholder">
			<div class="logo">
				<img src="./images/anesidora-128.png" alt="" />
				<div class="valign">
					<span class="name">Anesidora</span>
					<button class="update" aria-labelledby="update-tooltip">
						<span class="version">v2.2.3</span>
						<svg class="settingsicon feather-refresh-cw" viewBox="0 0 24 24">
							<polyline points="23 4 23 10 17 10"></polyline>
							<polyline points="1 20 1 14 7 14"></polyline>
							<path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
						</svg>
					</button>
				</div>
				<div class="update-tooltip">
					Click to check latest version.
				</div>
			</div>
		</div>
        <form id="mainForm">
            <h2>Behavior</h2>
			<section class="behavior checklist">
				<label>
					<input type="checkbox" name="skipAfterDislike">
					Skip after disliking
				</label>
				<label>
					<input type="checkbox" name="pauseAfterInactivity" data-visibility-child=".inactivity-duration">
					Pause after inactivity
				</label>
				<label class="inactivity-duration inset">
					Inactivity is defined as 
					<div class="unit">
						<input class="fancyInput" type="number" name="inactivityDuration">
						<div>minutes</div>
					</div>
					without opening the player or hitting a hotkey.
				</label>
				<label>
					<input type="checkbox" name="httpsOnlyAssets" />
					Rewrite asset URLS to <code>https://</code>
				</label>
				<label>
					<input type="checkbox" name="stripTrackingParams" />
					Remove tracking parameters from URLS
				</label>
				<label>
					<input type="checkbox" name="doRewinds" data-visibility-child=".restart-duration">
					Restart track instead of skipping back
				</label>
				<label class="restart-duration inset">
					Skip back when within 
					<div class="unit">
						<input class="fancyInput" type="number" name="rewindDuration">
						<div>seconds</div>
					</div>
					of the start of the song.
				</label>
			</section>

			<h2>Ads</h2>
			<section class="ads checklist">
				<label>
					<input type="checkbox" name="playAds">
					Play ads
				</label>
				<label>
					<input type="checkbox" name="registerAds">
					Register which ads are played with Pandora
				</label>
				<div class="inset">
					<p>
						Pandora likely does not get money for playing ads unless this happens.
					</p>
					<p>
						This option does nothing if ads do not play.
					</p>
				</div>
			</section>

			<h2>Downloads</h2>
			<section class="downloads checklist">
				<label>
					<input type="checkbox" name="tagDownloads" />
					Set id3 tags on downloaded tracks
				</label>
				<label>
					<input type="checkbox" name="renameDownloads" data-visibility-child=".downloadNameFormatString" />
					Rename downloads from Pandora's default unreadable filenames
				</label>
				<div class="downloadNameFormatString inset">
					<label>
						Rename template:
						<input class="fancyInput" type="text" name="downloadNameFormatString">
					</label>
					<p>
						Accepted parameters: <code>%trackname%, %trackid%, %artistname%</code>
					</p>
					<label>
						<input type="checkbox" name="limitFilenameLength" />
						Limit filenames to 32 characters
					</label>
				</div>
				
			</section>
			<!--
					<div class="mouseoverDimensions">
						<div class="dimPreviewBox">
							<legend>Cozy player</legend>
							<div class="align-inputs">
								<div class="dimInput">
									<input class="fancyInput" id="cozy-player-width" type="number" max="800" name="cozy-player-width">
									<div>px</div>
								</div>
								<span>by</span>
								<div class="dimInput">
									<input class="fancyInput" id="cozy-player-height" type="number" max="598" name="cozy-player-height">
									<div>px</div>
								</div>						
							</div>
							<button class="selectPlayerType" type="button">
								Select
							</button>
						</div>
					</div>
					<div class="mouseoverDimensions">
						<div class="dimPreviewBox">
							<legend>Compact player</legend>
							<div class="align-inputs">
								<div class="dimInput">
									<input class="fancyInput" id="compact-player-width" type="number" max="800" name="compact-player-width">
									<div>px</div>
								</div>
								<span>by</span>
								<div class="dimInput">
									<input class="fancyInput" id="compact-player-height" type="number" max="598" name="compact-player-height">
									<div>px</div>
								</div>
							</div>
							<button class="selectPlayerType" type="button">
								Select
							</button>
						</div>
					</div>
			-->
			<h2>My presets</h2>
            <section class="appearance">
				<div class="previewHolder">
					<iframe id="preview"></iframe>
				</div>
                <div class="controls">
                    <div class="quick-preset-select" id="selectedPresetContainer">
                    </div>
					<div class="hidden-if-match">
						<h3>General</h3>
						<label>
							<div class="labeltext">Name</div>
							<input id="preset-name" type="text" name="preset-name">
						</label>
						<div class="halign-if-possible dimInputs">
							<label>
								<div class="labeltext">Viewport width</div>
								<div class="unit">
									<input id="viewport-width" type="number" name="viewport-width">
									<div>px</div>
								</div>
							</label>
							<label>
								<div class="labeltext">Viewport height</div>
								<div class="unit">
									<input id="viewport-height" type="number" name="viewport-height">
									<div>px</div>
								</div>
							</label>
						</div>
						<div class="halign-if-possible">
							<label>
								<div class="labeltext">Player type</div>
								<select class="fancyInput" name="playerType"></select>
							</label>
							<label>
								<div class="labeltext">Max history entries</div>
								<div class="unit">
									<input name="maxHistoryEntries" type="number" min="0" step="1">
								</div>
							</label>
						</div>
						<label class="halign">
							<input type="checkbox" name="color-scheme-type">
							<div class="labeltext">Preset is dark</div>
						</label>
	
						<h3>Colors</h3>
						<div class="colors">
							<label>
								<div class="labeltext">Background<span class="separator"></span><code>background-color</code></div>
								<input data-jscolor="{}" name="background-color">
							</label>
							<label>
								<div class="labeltext">Text<span class="separator"></span><code>text-color</code></div>
								<input data-jscolor="{}" name="text-color">
							</label>
							<label>
								<div class="labeltext">Navigation background<span class="separator"></span><code>tab-navigation-background-color</code></div>
								<input data-jscolor="{}" name="tab-navigation-background-color">
							</label>
							<label>
								<div class="labeltext">Navigation text<span class="separator"></span><code>tab-navigation-text-color</code></div>
								<input data-jscolor="{}" name="tab-navigation-text-color">
							</label>
						</div>
						<h3>Icon colors</h3>
						<div class="colors">
							<label>
								<div class="labeltext">Icon stroke<span class="separator"></span><code>icon-default-stroke</code></div>
								<input data-jscolor="{}" name="icon-default-stroke">
							</label>
							<label>
								<div class="labeltext">Icon fill<span class="separator"></span><code>icon-default-fill</code></div>
								<input data-jscolor="{}" name="icon-default-fill">
							</label>
							<label>
								<div class="labeltext">Active icon stroke<span class="separator"></span><code>icon-active-stroke</code></div>
								<input data-jscolor="{}" name="icon-active-stroke">
							</label>
							<label>
								<div class="labeltext">Active icon fill<span class="separator"></span><code>icon-active-fill</code></div>
								<input data-jscolor="{}" name="icon-active-fill">
							</label>
							<label>
								<div class="labeltext">Hovered icon stroke<span class="separator"></span><code>icon-hover-stroke</code></div>
								<input data-jscolor="{}" name="icon-hover-stroke">
							</label>
							<label>
								<div class="labeltext">Hovered icon fill<span class="separator"></span><code>icon-hover-fill</code></div>
								<input data-jscolor="{}" name="icon-hover-fill">
							</label>
						</div>
						<h3>Player colors</h3>
						<div class="colors">
							<label>
								<div class="labeltext">Player main icons stroke<span class="separator"></span><code>player-main-icons-stroke</code></div>
								<input data-jscolor="{}" name="player-main-icons-stroke">
							</label>
							<label>
								<div class="labeltext">Player main icons fill<span class="separator"></span><code>player-main-icons-fill</code></div>
								<input data-jscolor="{}" name="player-main-icons-fill">
							</label>
							<label>
								<div class="labeltext">Play/pause stroke<span class="separator"></span><code>player-play-icon-stroke</code></div>
								<input data-jscolor="{}" name="player-play-icon-stroke">
							</label>
							<label>
								<div class="labeltext">Play/pause fill<span class="separator"></span><code>player-play-icon-fill</code></div>
								<input data-jscolor="{}" name="player-play-icon-fill">
							</label>
							<label>
								<div class="labeltext">Player minor icons stroke<span class="separator"></span><code>player-minor-icons-stroke</code></div>
								<input data-jscolor="{}" name="player-minor-icons-stroke">
							</label>
							<label>
								<div class="labeltext">Player minor icons fill<span class="separator"></span><code>player-minor-icons-fill</code></div>
								<input data-jscolor="{}" name="player-minor-icons-fill">
							</label>
						</div>
						<h3>Misc. Colors</h3>
						<div class="colors">
							<label>
								<div class="labeltext">Alternating row background<span class="separator"></span><code>alternating-row-background</code></div>
								<input data-jscolor="{}" name="alternating-row-background">
							</label>
							<label>
								<div class="labeltext">Station play hover color<span class="separator"></span><code>stations-play-background-color</code></div>
								<input data-jscolor="{}" name="stations-play-background-color">
							</label>
							<label>
								<div class="labeltext">Active station background<span class="separator"></span><code>stations-active-station-background</code></div>
								<input data-jscolor="{}" name="stations-active-station-background">
							</label>
							<label>
								<div class="labeltext">Active station text<span class="separator"></span><code>stations-active-station-color</code></div>
								<input data-jscolor="{}" name="stations-active-station-color">
							</label>
						</div>

						<h3>Text</h3>
						<div class="halign-if-possible">
							<label>
								<div class="labeltext">Font family</div>
								<input id="font-family" type="text" name="font-family">
							</label>
							<label>
								<div class="labeltext">Font size</div>
								<div class="unit">
									<input id="font-size" type="number" name="font-size">
									<div>px</div>
								</div>
							</label>
						</div>

						<h3>Sizes</h3>
						<div class="halign-if-possible">
							<label>
								<div class="labeltext">Navigation icon size</div>
								<div class="unit">
									<input type="number" name="tab-navigation-icon-size">
									<div>px</div>
								</div>
							</label>
							<label>
								<div class="labeltext">History icon size</div>
								<div class="unit">
									<input type="number" name="history-icon-size">
									<div>px</div>
								</div>
							</label>
							<label>
								<div class="labeltext">Player play/pause size</div>
								<div class="unit">
									<input type="number" name="player-main-icon-size">
									<div>px</div>
								</div>
							</label>
							<label>
								<div class="labeltext">Player primary icon size</div>
								<div class="unit">
									<input type="number" name="player-icon-size">
									<div>px</div>
								</div>
							</label>
							<label>
								<div class="labeltext">Player secondary icon size</div>
								<div class="unit">
									<input type="number" name="player-small-icon-size">
									<div>px</div>
								</div>
							</label>
							<label>
								<div class="labeltext">Album cover rounding</div>
								<div class="unit">
									<input type="number" name="player-cover-corner-radius">
									<div>px</div>
								</div>
							</label>
						</div>
						<div class="colors">
							<label>
								<div class="labeltext">Album cover size<span class="separator"></span><code>player-cover-max-size</code></div>
								<input name="player-cover-max-size">
							</label>
						</div>
						<h3>Album cover background</h3>
						<div class="colors">
							<label>
								<div class="labeltext">Opacity<span class="separator"></span><code>album-background-strength</code></div>
								<input name="album-background-strength" type="range" max="1" min="0" step="0.05" list="usual-opacities">
								<datalist id="usual-opacities">
									<option value="0">0</option>
									<option value="0.1">10%</option>
									<option value="0.2">20%</option>
									<option value="0.3">30%</option>
									<option value="0.4">40%</option>
									<option value="0.5">50%</option>
									<option value="0.6">60%</option>
									<option value="0.7">70%</option>
									<option value="0.8">80%</option>
									<option value="0.9">90%</option>
									<option value="1">100%</option>
								</datalist>
							</label>
							<label>
								<div class="labeltext">Saturation<span class="separator"></span><code>album-background-saturation</code></div>
								<input name="album-background-saturation">
							</label>
							<label>
								<div class="labeltext">Blur size<span class="separator"></span><code>album-background-blur-size</code></div>
								<input name="album-background-blur-size">
							</label>
						</div>
						<details class="advanced">
							<summary>Advanced</summary>
							<h3>Custom CSS</h3>
							<textarea name="customCSS" class="fancyInput"></textarea>
						</details>
					</div>
					<div class="shown-if-match">
						<p>
							The system preset switches between the configured dark and light presets, based on your operating system's color scheme.
						</p>
						<h3>Dark mode preset</h3>
						<div class="quick-preset-select" id="darkPresetSelection"></div>
						<h3>Light mode preset</h3>
						<div class="quick-preset-select" id="lightPresetSelection"></div>
					</div>
                </div>
            </section>

            <!--
            // Show volume? cozy=false, compact=true
            // Show seekbar? cozy=false, compact=true
            // 
            -->

            <!--
            // Checkbox: Automatically skip when disliking

            // Ads?

			// Download format strings


            -->
            <!--
				<h2>Stats</h2>
            // Total songs played / time listened
            // Total tracks liked / disliked
            // Total ads played / time listened


            -->
        </form>
        <!--
        <div>
        <label class="browser-style">Song History to Store</label>
        <input type="number" id="historyNum" class="browser-style">
        </div>
            <label class="browser-style">Play/Pause Hotkey</label>
            <input type="text" id="playPauseHotkey" class="browser-style">
        </div>
        <div>
            <label class="browser-style">Skip Song Hotkey</label>
            <input type="text" id="skipSongHotkey" class="browser-style">
        </div>
-->
    
        <script src="./js/options.js" type="text/javascript"></script>
    </body>
</html>
